[
  {
    "index": 0,
    "country": "PRODUCTION",
    "touchpoints": [
      {
        "stage_index": 1,
        "value": "Login People (PRC)",
        "touchpoint_index": 1,
        "status_on_off": true,
        "relation_steps": [
          4,
          1,
          2,
          3
        ],
        "measure_points": [
          {
            "type": "PRC",
            "accountID": 2847332,
            "query": "SELECT uniqueCount(session) as session FROM PageView WHERE appName='QS' AND name='WebTransaction/Action/'",
            "min_count": 10,
            "session_count": 0
          }
        ]
      },
      {
        "stage_index": 1,
        "value": "App Backend Health (APP)",
        "touchpoint_index": 2,
        "status_on_off": true,
        "relation_steps": [
          3
        ],
        "measure_points": [
          {
            "type": "APP",
            "query": "SELECT filter(apdex(duration, t:0.028), WHERE 1=1) as apdex, filter( max(duration), WHERE 1=1) as response,filter(percentage(count(*), WHERE error is true), WHERE 1=1) as error from Transaction WHERE appName='QS'",
            "min_apdex": 0.4,
            "max_response_time": 0.5,
            "max_error_percentage": 5,
            "apdex_value": 0,
            "response_value": 0,
            "error_percentage": 0
          }
        ]
      },
      {
        "stage_index": 1,
        "value": "App Frontend Health (FRT)",
        "touchpoint_index": 3,
        "status_on_off": true,
        "relation_steps": [
          1
        ],
        "measure_points": [
          {
            "type": "FRT",
            "query": "SELECT filter(apdex(duration, t:1), WHERE 1=1) as apdex, filter( max(duration), WHERE 1=1) as response,filter(percentage(count(*), WHERE error is true), WHERE 1=1) as error from PageView WHERE appName='QS'",
            "min_apdex": 0.6,
            "max_response_time": 1.2,
            "max_error_percentage": 5,
            "apdex_value": 0,
            "response_value": 0,
            "error_percentage": 0
          }
        ]
      },
      {
        "stage_index": 1,
        "value": "Login Check (SYN)",
        "touchpoint_index": 4,
        "status_on_off": true,
        "relation_steps": [
          4
        ],
        "measure_points": [
          {
            "type": "SYN",
            "query": "SELECT filter(percentage(count(result),WHERE result='SUCCESS'),WHERE 1=1) as success, max(duration) as duration, max(longRunningTasksAvgTime) as request from SyntheticCheck,SyntheticRequest WHERE monitorName='BDB Live person'",
            "max_avg_response_time": 0.7,
            "max_total_check_time": 1.25,
            "min_success_percentage": 98,
            "success_percentage": 0,
            "max_duration": 0,
            "max_request_time": 0
          }
        ]
      },
      {
        "stage_index": 1,
        "value": "Signup People (PRC)",
        "touchpoint_index": 5,
        "status_on_off": true,
        "relation_steps": [
          5,
          11,
          14
        ],
        "measure_points": [
          {
            "type": "PRC",
            "query": "SELECT uniqueCount(session) as session FROM PageView WHERE appName='QS' AND name='WebTransaction/Action/login'",
            "min_count": 36,
            "session_count": 0
          }
        ]
      },
      {
        "stage_index": 2,
        "value": "Catalog API USE (PCC)",
        "touchpoint_index": 1,
        "status_on_off": true,
        "relation_steps": [
          1
        ],
        "measure_points": [
          {
            "type": "PCC",
            "query": "SELECT count(*) from Transaction WHERE appName='QS' AND name LIKE 'WebTransaction/Action/App%'",
            "min_count": 20,
            "transaction_count": 0
          }
        ]
      },
      {
        "stage_index": 2,
        "value": "Pricing API (APP)",
        "touchpoint_index": 2,
        "status_on_off": true,
        "relation_steps": [
          4
        ],
        "measure_points": [
          {
            "type": "APP",
            "query": "SELECT filter(apdex(duration, t:0.028), WHERE 1=1) as apdex, filter( max(duration), WHERE 1=1) as response,filter(percentage(count(*), WHERE error is true), WHERE 1=1) as error from Transaction WHERE appName='QS'",
            "min_apdex": 0.4,
            "max_response_time": 0.5,
            "max_error_percentage": 5,
            "apdex_value": 0,
            "response_value": 0,
            "error_percentage": 0
          }
        ]
      },
      {
        "stage_index": 2,
        "value": "Master Data API (FRT)",
        "touchpoint_index": 3,
        "status_on_off": true,
        "relation_steps": [
          6
        ],
        "measure_points": [
          {
            "type": "FRT",
            "query": "SELECT filter(apdex(duration, t:1), WHERE 1=1) as apdex, filter( max(duration), WHERE 1=1) as response,filter(percentage(count(*), WHERE error is true), WHERE 1=1) as error from PageView WHERE appName='QS'",
            "min_apdex": 0.6,
            "max_response_time": 1.2,
            "max_error_percentage": 5,
            "apdex_value": 0,
            "response_value": 0,
            "error_percentage": 0
          }
        ]
      },
      {
        "stage_index": 2,
        "value": "Subscriptions API (PCC)",
        "touchpoint_index": 4,
        "status_on_off": true,
        "relation_steps": [
          8
        ],
        "measure_points": [
          {
            "type": "PCC",
            "query": "SELECT count(*) from Transaction WHERE appName='QS' AND name='WebTransaction/Action/login'",
            "min_count": 36,
            "transaction_count": 0
          }
        ]
      },
      {
        "stage_index": 3,
        "value": "Session Manager API (PCC)",
        "touchpoint_index": 1,
        "status_on_off": true,
        "relation_steps": [
          1
        ],
        "measure_points": [
          {
            "type": "PCC",
            "query": "SELECT count(*) from Transaction WHERE appName='QS' AND name='WebTransaction/Action/login'",
            "min_count": 36,
            "transaction_count": 0
          }
        ]
      },
      {
        "stage_index": 3,
        "value": "Checkout Check (SYN)",
        "touchpoint_index": 2,
        "status_on_off": true,
        "relation_steps": [
          3
        ],
        "measure_points": [
          {
            "type": "SYN",
            "query": "SELECT filter(percentage(count(result),WHERE result='SUCCESS'),WHERE 1=1) as success, max(duration) as duration, max(longRunningTasksAvgTime) as request from SyntheticCheck,SyntheticRequest WHERE monitorName='BDB Live person'",
            "max_avg_response_time": 0.7,
            "max_total_check_time": 1.25,
            "min_success_percentage": 98,
            "success_percentage": 0,
            "max_duration": 0,
            "max_request_time": 0
          }
        ]
      },
      {
        "stage_index": 3,
        "value": "Customer Credit API (PCC)",
        "touchpoint_index": 3,
        "status_on_off": true,
        "relation_steps": [
          5
        ],
        "measure_points": [
          {
            "type": "PCC",
            "query": "SELECT count(*) from Transaction WHERE appName='QS' AND name LIKE 'WebTransaction/Action/App%'",
            "min_count": 20,
            "transaction_count": 0
          }
        ]
      },
      {
        "stage_index": 3,
        "value": "Gift Card API (APP)",
        "touchpoint_index": 4,
        "status_on_off": true,
        "relation_steps": [
          9
        ],
        "measure_points": [
          {
            "type": "APP",
            "query": "SELECT filter(apdex(duration, t:0.028), WHERE 1=1) as apdex, filter( max(duration), WHERE 1=1) as response,filter(percentage(count(*), WHERE error is true), WHERE 1=1) as error from Transaction WHERE appName='QS'",
            "min_apdex": 0.4,
            "max_response_time": 0.5,
            "max_error_percentage": 5,
            "apdex_value": 0,
            "response_value": 0,
            "error_percentage": 0
          }
        ]
      },
      {
        "stage_index": 3,
        "value": "Gift Card Hub API (FRT)",
        "touchpoint_index": 5,
        "status_on_off": true,
        "relation_steps": [
          2
        ],
        "measure_points": [
          {
            "type": "FRT",
            "query": "SELECT filter(apdex(duration, t:1), WHERE 1=1) as apdex, filter( max(duration), WHERE 1=1) as response,filter(percentage(count(*), WHERE error is true), WHERE 1=1) as error from PageView WHERE appName='QS'",
            "min_apdex": 0.6,
            "max_response_time": 1.2,
            "max_error_percentage": 5,
            "apdex_value": 0,
            "response_value": 0,
            "error_percentage": 0
          }
        ]
      },
      {
        "stage_index": 3,
        "value": "Catalog API (PCC)",
        "touchpoint_index": 6,
        "status_on_off": true,
        "relation_steps": [
          4
        ],
        "measure_points": [
          {
            "type": "PCC",
            "query": "SELECT count(*) from Transaction WHERE appName='QS' AND name='WebTransaction/Action/login'",
            "min_count": 36,
            "transaction_count": 0
          }
        ]
      },
      {
        "stage_index": 4,
        "value": "Orders API (PRC)",
        "touchpoint_index": 1,
        "status_on_off": true,
        "relation_steps": [
          1
        ],
        "measure_points": [
          {
            "type": "PRC",
            "query": "SELECT uniqueCount(session) as session FROM PageView WHERE appName='QS' AND name='WebTransaction/Action/'",
            "min_count": 10,
            "session_count": 0
          }
        ]
      },
      {
        "stage_index": 4,
        "value": "Customer Credit API (APP)",
        "touchpoint_index": 2,
        "status_on_off": true,
        "relation_steps": [
          4
        ],
        "measure_points": [
          {
            "type": "APP",
            "query": "SELECT filter(apdex(duration, t:0.028), WHERE 1=1) as apdex, filter( max(duration), WHERE 1=1) as response,filter(percentage(count(*), WHERE error is true), WHERE 1=1) as error from Transaction WHERE appName='QS'",
            "min_apdex": 0.4,
            "max_response_time": 0.5,
            "max_error_percentage": 5,
            "apdex_value": 0,
            "response_value": 0,
            "error_percentage": 0
          }
        ]
      },
      {
        "stage_index": 4,
        "value": "Gift Card API (FRT)",
        "touchpoint_index": 3,
        "status_on_off": true,
        "relation_steps": [
          7
        ],
        "measure_points": [
          {
            "type": "FRT",
            "query": "SELECT filter(apdex(duration, t:1), WHERE 1=1) as apdex, filter( max(duration), WHERE 1=1) as response,filter(percentage(count(*), WHERE error is true), WHERE 1=1) as error from PageView WHERE appName='QS'",
            "min_apdex": 0.6,
            "max_response_time": 1.2,
            "max_error_percentage": 5,
            "apdex_value": 0,
            "response_value": 0,
            "error_percentage": 0
          }
        ]
      },
      {
        "stage_index": 4,
        "value": "Gift Card Hub API (SYN)",
        "touchpoint_index": 4,
        "status_on_off": true,
        "relation_steps": [
          9
        ],
        "measure_points": [
          {
            "type": "SYN",
            "query": "SELECT filter(percentage(count(result),WHERE result='SUCCESS'),WHERE 1=1) as success, max(duration) as duration, max(longRunningTasksAvgTime) as request from SyntheticCheck,SyntheticRequest WHERE monitorName='BDB Live person'",
            "max_avg_response_time": 0.7,
            "max_total_check_time": 1.25,
            "min_success_percentage": 98,
            "success_percentage": 0,
            "max_duration": 0,
            "max_request_time": 0
          }
        ]
      },
      {
        "stage_index": 4,
        "value": "Logistics API (PRC)",
        "touchpoint_index": 5,
        "status_on_off": true,
        "relation_steps": [
          10
        ],
        "measure_points": [
          {
            "type": "PRC",
            "query": "SELECT uniqueCount(session) as session FROM PageView WHERE appName='QS' AND name='WebTransaction/Action/login'",
            "min_count": 36,
            "session_count": 0
          }
        ]
      },
      {
        "stage_index": 5,
        "value": "VTEX Do API (PCC)",
        "touchpoint_index": 1,
        "status_on_off": true,
        "relation_steps": [
          1
        ],
        "measure_points": [
          {
            "type": "PCC",
            "query": "SELECT count(*) from Transaction WHERE appName='QS' AND name='WebTransaction/Action/login'",
            "min_count": 36,
            "transaction_count": 0
          }
        ]
      },
      {
        "stage_index": 5,
        "value": "Subscriptions API (SYN)",
        "touchpoint_index": 2,
        "status_on_off": true,
        "relation_steps": [
          2
        ],
        "measure_points": [
          {
            "type": "SYN",
            "query": "SELECT filter(percentage(count(result),WHERE result='SUCCESS'),WHERE 1=1) as success, max(duration) as duration, max(longRunningTasksAvgTime) as request from SyntheticCheck,SyntheticRequest WHERE monitorName='BDB Live person'",
            "max_avg_response_time": 0.7,
            "max_total_check_time": 1.25,
            "min_success_percentage": 98,
            "success_percentage": 0,
            "max_duration": 0,
            "max_request_time": 0
          }
        ]
      },
      {
        "stage_index": 5,
        "value": "Session Manager API (PCC)",
        "touchpoint_index": 3,
        "status_on_off": true,
        "relation_steps": [
          3
        ],
        "measure_points": [
          {
            "type": "PCC",
            "query": "SELECT count(*) from Transaction WHERE appName='QS' AND name LIKE 'WebTransaction/Action/App%'",
            "min_count": 20,
            "transaction_count": 0
          }
        ]
      },
      {
        "stage_index": 5,
        "value": "Checkout API (APP)",
        "touchpoint_index": 4,
        "status_on_off": true,
        "relation_steps": [
          5
        ],
        "measure_points": [
          {
            "type": "APP",
            "query": "SELECT filter(apdex(duration, t:0.028), WHERE 1=1) as apdex, filter( max(duration), WHERE 1=1) as response,filter(percentage(count(*), WHERE error is true), WHERE 1=1) as error from Transaction WHERE appName='QS'",
            "min_apdex": 0.4,
            "max_response_time": 0.5,
            "max_error_percentage": 5,
            "apdex_value": 0,
            "response_value": 0,
            "error_percentage": 0
          }
        ]
      },
      {
        "stage_index": 5,
        "value": "Customer Credit API (FRT)",
        "touchpoint_index": 5,
        "status_on_off": true,
        "relation_steps": [
          6
        ],
        "measure_points": [
          {
            "type": "FRT",
            "query": "SELECT filter(apdex(duration, t:1), WHERE 1=1) as apdex, filter( max(duration), WHERE 1=1) as response,filter(percentage(count(*), WHERE error is true), WHERE 1=1) as error from PageView WHERE appName='QS'",
            "min_apdex": 0.6,
            "max_response_time": 1.2,
            "max_error_percentage": 5,
            "apdex_value": 0,
            "response_value": 0,
            "error_percentage": 0
          }
        ]
      },
      {
        "stage_index": 5,
        "value": "Gift Card API (PCC)",
        "touchpoint_index": 6,
        "status_on_off": true,
        "relation_steps": [
          8
        ],
        "measure_points": [
          {
            "type": "PCC",
            "query": "SELECT count(*) from Transaction WHERE appName='QS' AND name='WebTransaction/Action/login'",
            "min_count": 36,
            "transaction_count": 0
          }
        ]
      }
    ]
  }
]
